@model University.Entities.Student
@{
    ViewBag.Title = "Register";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Register</h2>

<form id="StudentRegistraton">
    <div class="row">
        <div class="col-md-12">
            <div class="form-group">
                <label class="control-label col-md-2">Name</label>

                <input type="text" name="Name" class="form-control" value="" />

            </div>

            <br />
            <div class="form-group">
                <label class="control-label col-md-2">Email</label>

                <input type="text" name="Email" class="form-control" value="" />

            </div>

            <br />
            <div class="form-group">
                <label class="control-label col-md-2">Contact No</label>

                <input type="text" name="ContactNo" class="form-control" value="" />

            </div>

            <br />
            <div class="form-group">
                <label class="control-label col-md-2">Date</label>

                <input type="datetime-local" name="Date" class="form-control" value="" />

            </div>

            <br />
            <div class="form-group">
                <label class="control-label col-md-2">Address</label>

                <input type="text" name="Address" class="form-control" value="" />

            </div>

            <br />
            <div class="form-group">
                <label class="control-label col-md-2">Department</label>

                

                    <select class="form-control" name="DepartmentId" id="DepartmentId">

                        <option value="">Select Department</option>
                        @foreach (var aDepartment in ViewBag.DepartmentList)
                        {
                            <option value="@aDepartment.Id">@aDepartment.Name</option>
                        }

                    </select><label id="DeptErrorLabel" style="color: red;"></label>


                
            </div>
            <br />
            <button id="saveBtn" type="button" class="btn btn-primary">Save</button>
            <button type="reset" class="btn btn-danger">Cancel</button>
        </div>
    </div>


</form>
<script>
    $("#saveBtn").click(function () {
            $.ajax({
                type: "POST",
                url: '@Url.Action("Register", "Student")',
                data: $("#StudentRegistraton").serialize()
            })
                .done(function (response) {

                    console.log(response);
                    console.warn("Done!!!");
                    
                })
                .fail(function (xmlHttpRequest, textStatus, errorThrown) {
                    alert("Fail");
                });

    });
</script>